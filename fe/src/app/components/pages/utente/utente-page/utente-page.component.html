<div class="grid">
	<div class="col-12">
		<div class="card">
            <p-table    [value]="utenti" 
                        [lazy]="true" 
                        (onLazyLoad)="loadUtenti($event)" 
                        dataKey="id" 
                        [tableStyle]="{'min-width': '75rem'}"
                        [selection]="selectedCustomers" 
                        (selectionChange)="onSelectionChange($event)" 
                        [selectAll]="selectAll" 
                        (selectAllChange)="onSelectAllChange($event)"
                        [paginator]="true" 
                        [rows]="10" 
                        [totalRecords]="totalRecords" 
                        [loading]="loading" 
                        [globalFilterFields]="['nome','cognome', 'sesso']">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 4rem"></th>
            <th pSortableColumn="nome">Nome <p-sortIcon field="nome"></p-sortIcon></th>
            <th pSortableColumn="country.name">Country <p-sortIcon field="country.name"></p-sortIcon></th>
            <th pSortableColumn="company">Company <p-sortIcon field="company"></p-sortIcon></th>
            <th pSortableColumn="representative.name">Representative <p-sortIcon field="representative.name"></p-sortIcon></th>
        </tr>
        <tr>
            <th style="width: 4rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th>
                <p-columnFilter type="text" field="name"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="country.name"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="company"></p-columnFilter>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>
        <tr>
            <td>
                <p-tableCheckbox [value]="customer"></p-tableCheckbox>
            </td>
            <td>{{customer.name}}</td>
            <td>{{customer.country.name}}</td>
            <td>{{customer.company}}</td>
            <td>{{customer.representative.name}}</td>
        </tr>
    </ng-template>
</p-table>
        </div>
    </div>
</div>